> 트랜잭션(Transaction)이라는 개념에 대해 먼저 알고 가야한다.  
> 트랜잭션은 여러 개의 쿼리를 하나로 묶은 실행 유닛이다. 각 트랜잭션은 하나의 특정 작업으로 시작해, 모든 작업을 완료해야만 정상적으로 종료한다. 만약 하나의 트랜잭션으로 묶인 작업 중 단 하나라도 실패하면 트랜잭션 전체가 실패한 것으로 판단한다.

# **ACID**

ACID는 데이터 베이스 내에서 일어나는 트랜잭션의 안전성을 보장하기 위해 필요한 성질들이다.

-   Atomicity
-   Consistency
-   Isolation
-   Durablity

## **Atomicity(원자성)**

트랜잭션에서 하나의 작업이라도 실패하면 트랜잭션 전체가 실패한 것으로 판단한다고 했는데, 원자성이 해당 내용을 성립시킨다. 

원자성은 하나의 트랜잭션에 속한 모든 작업이 전부 성공하거나, 전부 실패하여 결과를 예측할 수 있도록 보장하는 특성이다. 예시를 통해 확인하자.

> 예시) A계좌에서 B계좌로 송금하는 과정  
> A 계좌에서 3000원을 출금한다.  
> B 계좌에 3000원을 입금한다.

A계좌에서 출금하는 작업과 B계좌에 입금하는 작업을 하나의 트랜잭션으로 본다면, 둘 중 하나라도 오류가 발생하면 없던 3000원이 생겨나거나, 3000원이 허공으로 증발하는 일이 발생한다. 때문에 둘 중 하나라도 실패한다면 트랜잭션 전체가 실패로 돌아가야 한다는 것이 원자성이다.

## **Consistency(일관성)**

데이터베이스의 상태가 일관적이여야 한다는 특성이다. 하나의 트랜잭션 이전과 이후에서, 데이터베이스의 상태가 변화하면 안된다. 

예를 들어 '모든 회원은 반드시 이름을 가지고 있어야 한다.' 라는 데이터베이스의 제약이 있다고 가정하자.

> 이름이 없는 신규 회원을 추가하는 쿼리  
> 기존 회원의 이름을 삭제하는 쿼리

기존 회원의 이름을 삭제하는 쿼리

위의 두 쿼리는 일관성을 위반하는 쿼리에 해당한다.

## **Isolation(고립성, 격리성)**

격리성은 '모든 트랜잭션은 다른 트랜잭션으로부터 독립적이어야 한다'는 특성이다. 여러개의 트랜잭션이 동시에 실행될 때, 각 트랜잭션은 격리되어 있기 때문에, 각각의 트랜잭션을 연속으로 실행한 것과 동일한 결과를 나타낸다.

> 계좌A에 10000원이 있다고 가정  
> 계좌 B에 6000원을, 계좌 C에 6000원을 동시에 이체하는 경우  
> 계좌 B에 6000원을 이체하고, 계좌 C에 6000원을 이체하는 경우

위의 두 경우 같은 결과를 나타낸다는 것이 격리성의 내용이다. (해당 내용 추가 학습 필요)

## **Durability(지속성)**

지속성은 하나의 트랜잭션이 성공적으로 실행되었다면, 해당 트랜잭션에 대한 기록이 남아야 한다는 특성이다. 만약 런타임 오류나 시스템 오류가 발생하더라도, 해당 기록은 영구적이어야 한다.

> 계좌이체를 성공적으로 실행한 이후, 데이터베이스에 오류가 발생해 종료되었다.

위의 경우에도 계좌이체를 성공적으로 실행한 기록은 로그로 남아야 한다.
